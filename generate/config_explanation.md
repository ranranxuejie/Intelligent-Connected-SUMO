# config.json 参数详细解释

## 1. 仿真基本配置
| 参数 | 类型 | 数值 | 含义 |
|------|------|------|------|
| `simulation.start` | 整数 | 0 | 仿真开始时间（秒），从0秒开始仿真 |
| `simulation.end` | 整数 | 3600 | 仿真结束时间（秒），总共仿真1小时 |

## 2. 坐标系与道路尺寸
| 参数 | 类型 | 数值 | 含义 |
|------|------|------|------|
| `center_x` | 整数 | 0 | 交叉口中心的X坐标（米），作为路网生成的基准点 |
| `center_y` | 整数 | 0 | 交叉口中心的Y坐标（米），作为路网生成的基准点 |
| `road_length` | 整数 | 500 | 进口道长度（米），从交叉口中心到进口道起点的距离 |
| `bus_only_length` | 整数 | 400 | 公交专用道长度（米），从交叉口中心到公交专用道起点的距离 |
| `outlet_length` | 整数 | 200 | 出口道长度（米），从交叉口中心到出口道终点的距离 |
| `speed_kmh` | 整数 | 60 | 道路设计速度（公里/小时），转换为16.67 m/s用于仿真 |
| `bus_lane_width` | 浮点数 | 3.5 | 公交专用车道宽度（米），标准公交道宽度 |
| `normal_lane_width` | 浮点数 | 3.5 | 普通车道宽度（米），标准车道宽度 |
| `time_bin` | 整数 | 300 | 时间间隔（秒），用于交通流数据统计的时间单位 |

## 3. 车道配置
### 3.1 出口车道数量
| 参数 | 类型 | 数值 | 含义 |
|------|------|------|------|
| `LANES.east_out` | 整数 | 4 | 东出口车道数量 |
| `LANES.west_out` | 整数 | 4 | 西出口车道数量 |
| `LANES.north_out` | 整数 | 2 | 北出口车道数量 |
| `LANES.south_out` | 整数 | 2 | 南出口车道数量 |

### 3.2 进口车道功能
| 参数 | 类型 | 数值 | 含义 |
|------|------|------|------|
| `LANE_FUNCTIONS.east_in` | 字符串 | "rsscll" | 东进口车道功能：<br>- r: 右转专用道<br>- s: 直行车道<br>- s: 直行车道<br>- c: CAV专用车道<br>- l: 左转专用道<br>- l: 左转专用道 |
| `LANE_FUNCTIONS.west_in` | 字符串 | "tsscl" | 西进口车道功能：<br>- t: 右转专用道<br>- s: 直行车道<br>- s: 直行车道<br>- c: CAV专用车道<br>- l: 左转专用道 |
| `LANE_FUNCTIONS.north_in` | 字符串 | "tsl" | 北进口车道功能：<br>- t: 混合车道（右转+直行）<br>- s: 直行车道<br>- l: 左转专用道 |
| `LANE_FUNCTIONS.south_in` | 字符串 | "tsl" | 南进口车道功能：<br>- t: 混合车道（右转+直行）<br>- s: 直行车道<br>- l: 左转专用道 |

## 4. 交通流配置
### 4.1 私家车流量
| 参数 | 类型 | 数值 | 含义 |
|------|------|------|------|
| `private_flow.east_in_far` | 整数 | 1200 | 东进口远距离私家车流量（辆/小时） |
| `private_flow.west_in_far` | 整数 | 1000 | 西进口远距离私家车流量（辆/小时） |
| `private_flow.north_in_far` | 整数 | 620 | 北进口远距离私家车流量（辆/小时） |
| `private_flow.south_in_far` | 整数 | 620 | 南进口远距离私家车流量（辆/小时） |

### 4.2 转向比例
| 参数 | 类型 | 数值 | 含义 |
|------|------|------|------|
| `turn_ratios.east_in_far` | 数组 | [6, 4, 2] | 东进口转向比例：<br>- 第一个值（6）：右转比例<br>- 第二个值（4）：直行比例<br>- 第三个值（2）：左转比例 |
| `turn_ratios.west_in_far` | 数组 | [6, 4, 2] | 西进口转向比例：<br>- 第一个值（6）：右转比例<br>- 第二个值（4）：直行比例<br>- 第三个值（2）：左转比例 |
| `turn_ratios.north_in_far` | 数组 | [3.1, 2, 1] | 北进口转向比例：<br>- 第一个值（3.1）：右转比例<br>- 第二个值（2）：直行比例<br>- 第三个值（1）：左转比例 |
| `turn_ratios.south_in_far` | 数组 | [3.1, 2, 1] | 南进口转向比例：<br>- 第一个值（3.1）：右转比例<br>- 第二个值（2）：直行比例<br>- 第三个值（1）：左转比例 |

### 4.3 车辆类型比例
| 参数 | 类型 | 数值 | 含义 |
|------|------|------|------|
| `vehicle_type_ratios.private` | 浮点数 | 0.50 | 私家车比例（50%） |
| `vehicle_type_ratios.truck` | 浮点数 | 0.10 | 货车比例（10%） |
| `vehicle_type_ratios.taxi` | 浮点数 | 0.40 | 出租车（CAV）比例（40%） |

## 5. 公交配置
| 参数 | 类型 | 数值 | 含义 |
|------|------|------|------|
| `bus_lines` | 数组 | [] | 公交线路配置，当前为空数组表示无公交线路 |

## 6. 信号配时
| 参数 | 类型 | 数值 | 含义 |
|------|------|------|------|
| `signal_timing.green_cav` | 整数 | 20 | CAV专用绿灯时间（秒） |
| `signal_timing.green_ew_straight` | 整数 | 32 | 东西向直行车道绿灯时间（秒） |
| `signal_timing.green_ns_straight` | 整数 | 35 | 南北向直行车道绿灯时间（秒） |
| `signal_timing.green_ew_left` | 整数 | 35 | 东西向左转车道绿灯时间（秒） |
| `signal_timing.green_ns_left` | 整数 | 35 | 南北向左转车道绿灯时间（秒） |
| `signal_timing.yellow_time` | 整数 | 3 | 黄灯时间（秒） |
| `signal_timing.all_red_time` | 整数 | 2 | 全红灯时间（秒），用于清空交叉口 |

# 配置文件作用总结
该config.json文件是用于生成和配置交叉口仿真环境的核心配置文件，包含了以下关键信息：

1. **仿真时间范围**：定义了仿真从0秒开始到3600秒结束，共1小时
2. **路网几何参数**：包括道路长度、宽度、车道数量等，用于生成路网拓扑
3. **车道功能定义**：通过字符串编码方式定义了各进口车道的功能（左转、直行、右转、CAV专用等）
4. **交通流量配置**：定义了各进口的交通流量和转向比例
5. **车辆类型分布**：配置了不同类型车辆（私家车、货车、CAV）的比例
6. **信号配时参数**：定义了交通信号灯的绿灯、黄灯、全红灯时间

该配置文件用于生成仿真所需的路网文件、交通流文件和信号灯配置文件，是整个仿真系统的基础配置。